# vim:set ft=make:

SUBSYSTEMS              += LIBUART
OBJECTS_LIBUART         += uart_pl011.o
PREPROCESS_PARTS        += realview libuart pic_gic
PREPROCESS_PARTS        += $(if $(CONFIG_ARM_MPCORE)$(CONFIG_ARM_CORTEX_A9),mptimer,sp804)
PREPROCESS_PARTS        += $(if $(CONFIG_PF_REALVIEW_L2CACHE),outer_cache)
PREPROCESS_PARTS        += $(if $(CONFIG_PF_REALVIEW_EB),realview_eb)
PREPROCESS_PARTS        += $(if $(CONFIG_PF_REALVIEW_PB11MP),realview_pb11mp)
PREPROCESS_PARTS        += $(if $(CONFIG_PF_REALVIEW_PBX),realview_pbx)
CONFIG_KERNEL_LOAD_ADDR := $(CONFIG_PF_REALVIEW_RAM_PHYS_BASE)

INTERFACES_KERNEL     += gic boot_mp platform board_check-arm-realview

uart_IMPL             += uart-arm-realview
config_IMPL           += config-arm-realview
mem_layout_IMPL       += mem_layout-arm-realview
pic_IMPL              += pic-arm-realview
bootstrap_IMPL        += bootstrap-arm-realview
timer_IMPL            += timer-arm-realview timer-arm-mptimer
kernel_uart_IMPL      += kernel_uart-arm-realview
reset_IMPL            += reset-arm-realview
clock_IMPL            += clock-arm-realview
outer_cache_IMPL      += outer_cache-arm-realview
boot_mp_IMPL          += boot_mp-arm-realview
platform_IMPL         += platform-arm-realview
